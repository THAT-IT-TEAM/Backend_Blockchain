{
  "contractName": "UserRegistry",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "AdminGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "AdminRevoked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "UserActivated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "UserDeactivated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "department",
          "type": "string"
        }
      ],
      "name": "UserRegistered",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "userAddress",
          "type": "address"
        }
      ],
      "name": "activateUser",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "userAddress",
          "type": "address"
        }
      ],
      "name": "deactivateUser",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getAllUsers",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "",
          "type": "address[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "userAddress",
          "type": "address"
        }
      ],
      "name": "getUser",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "userAddress",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "name",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "email",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "department",
              "type": "string"
            },
            {
              "internalType": "bool",
              "name": "isActive",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "isAdmin",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "registrationTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "totalExpenses",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "totalReimbursed",
              "type": "uint256"
            }
          ],
          "internalType": "struct UserRegistry.User",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "userAddress",
          "type": "address"
        }
      ],
      "name": "grantAdmin",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "userAddress",
          "type": "address"
        }
      ],
      "name": "isAdmin",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "userAddress",
          "type": "address"
        }
      ],
      "name": "isRegisteredUser",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "userAddress",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "email",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "department",
          "type": "string"
        }
      ],
      "name": "registerUser",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "userAddress",
          "type": "address"
        }
      ],
      "name": "revokeAdmin",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "userAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "expenseAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "reimbursedAmount",
          "type": "uint256"
        }
      ],
      "name": "updateUserStats",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "userList",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "users",
      "outputs": [
        {
          "internalType": "address",
          "name": "userAddress",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "email",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "department",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "isAdmin",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "registrationTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalExpenses",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalReimbursed",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b5060028054336001600160a01b031991821681178355604080516101208101825282815281518083018352600c81526b29bcb9ba32b69020b236b4b760a11b60208083019190915280830191825283518085018552601881527f61646d696e40657870656e7365747261636b65722e636f6d000000000000000081830152838501528351808501855296875261125560f21b87820152606083019690965260016080830181905260a083018190524260c0840152600060e0840181905261010084018190529485529584905291909220825181549094166001600160a01b039094169390931783555190928201906101089082610276565b506040820151600282019061011d9082610276565b50606082015160038201906101329082610276565b50608082015160048201805460a085015161ffff1990911692151561ff00191692909217610100921515830217905560c0830151600583015560e08301516006830155909101516007909101556002546001805480820182556000919091527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60180546001600160a01b039092166001600160a01b0319909216919091179055610334565b634e487b7160e01b600052604160045260246000fd5b600181811c9082168061020157607f821691505b60208210810361022157634e487b7160e01b600052602260045260246000fd5b50919050565b601f82111561027157806000526020600020601f840160051c8101602085101561024e5750805b601f840160051c820191505b8181101561026e576000815560010161025a565b50505b505050565b81516001600160401b0381111561028f5761028f6101d7565b6102a38161029d84546101ed565b84610227565b6020601f8211600181146102d757600083156102bf5750848201515b600019600385901b1c1916600184901b17845561026e565b600084815260208120601f198516915b8281101561030757878501518255602094850194600190920191016102e7565b50848210156103255786840151600019600387901b60f8161c191681555b50505050600190811b01905550565b6113d8806103436000396000f3fe608060405234801561001057600080fd5b50600436106100cf5760003560e01c80636f77926b1161008c578063a87430ba11610066578063a87430ba146101f8578063b4acfe1c14610220578063e2842d7914610233578063fe69c2961461024857600080fd5b80636f77926b1461019a5780638da5cb5b146101ba5780639f4216e8146101e557600080fd5b8063159ffd9a146100d45780631a47767b146100e95780631f5bdf5d146100fc57806324d7806c146101405780632d3456701461017457806335bb3e1614610187575b600080fd5b6100e76100e2366004610dd3565b61025b565b005b6100e76100f7366004610e06565b610304565b61012b61010a366004610e06565b6001600160a01b031660009081526020819052604090206004015460ff1690565b60405190151581526020015b60405180910390f35b61012b61014e366004610e06565b6001600160a01b0316600090815260208190526040902060040154610100900460ff1690565b6100e7610182366004610e06565b6103c2565b6100e7610195366004610e06565b610497565b6101ad6101a8366004610e06565b61054d565b6040516101379190610e6e565b6002546101cd906001600160a01b031681565b6040516001600160a01b039091168152602001610137565b6101cd6101f3366004610f30565b6107d5565b61020b610206366004610e06565b6107ff565b60405161013799989796959493929190610f49565b6100e761022e366004610e06565b6109ef565b61023b610ad7565b6040516101379190610fc2565b6100e76102563660046110b3565b610b39565b6001600160a01b03831660009081526020819052604090206004015460ff1661029f5760405162461bcd60e51b815260040161029690611158565b60405180910390fd5b6001600160a01b038316600090815260208190526040812060060180548492906102ca908490611181565b90915550506001600160a01b038316600090815260208190526040812060070180548392906102fa908490611181565b9091555050505050565b33600090815260208190526040902060040154610100900460ff1661033b5760405162461bcd60e51b8152600401610296906111a8565b6001600160a01b03811660009081526020819052604090206004015460ff166103765760405162461bcd60e51b815260040161029690611158565b6001600160a01b038116600081815260208190526040808220600401805460ff19169055517f5554feec4e87bc4eba14bd62f71df68156f97d26128616fbc27d28e33b35a6b49190a250565b6002546001600160a01b031633146103ec5760405162461bcd60e51b8152600401610296906111ea565b6002546001600160a01b039081169082160361044a5760405162461bcd60e51b815260206004820152601960248201527f43616e6e6f74207265766f6b65206f776e65722061646d696e000000000000006044820152606401610296565b6001600160a01b038116600081815260208190526040808220600401805461ff0019169055517f631ff1c4e1a02c54b480a34b810e03bcee61fe38efcb243930a7f820914923e29190a250565b6002546001600160a01b031633146104c15760405162461bcd60e51b8152600401610296906111ea565b6001600160a01b03811660009081526020819052604090206004015460ff166104fc5760405162461bcd60e51b815260040161029690611158565b6001600160a01b038116600081815260208190526040808220600401805461ff001916610100179055517f1c4e23de8d72c94b22992bd4d7b6786b215ba876af214ff63e6a0ca38fc97af49190a250565b6105a960405180610120016040528060006001600160a01b031681526020016060815260200160608152602001606081526020016000151581526020016000151581526020016000815260200160008152602001600081525090565b6001600160a01b03808316600090815260208181526040918290208251610120810190935280549093168252600183018054929392918401916105eb9061122c565b80601f01602080910402602001604051908101604052809291908181526020018280546106179061122c565b80156106645780601f1061063957610100808354040283529160200191610664565b820191906000526020600020905b81548152906001019060200180831161064757829003601f168201915b5050505050815260200160028201805461067d9061122c565b80601f01602080910402602001604051908101604052809291908181526020018280546106a99061122c565b80156106f65780601f106106cb576101008083540402835291602001916106f6565b820191906000526020600020905b8154815290600101906020018083116106d957829003601f168201915b5050505050815260200160038201805461070f9061122c565b80601f016020809104026020016040519081016040528092919081815260200182805461073b9061122c565b80156107885780601f1061075d57610100808354040283529160200191610788565b820191906000526020600020905b81548152906001019060200180831161076b57829003601f168201915b5050509183525050600482015460ff808216151560208401526101009091041615156040820152600582015460608201526006820154608082015260079091015460a09091015292915050565b600181815481106107e557600080fd5b6000918252602090912001546001600160a01b0316905081565b600060208190529081526040902080546001820180546001600160a01b03909216929161082b9061122c565b80601f01602080910402602001604051908101604052809291908181526020018280546108579061122c565b80156108a45780601f10610879576101008083540402835291602001916108a4565b820191906000526020600020905b81548152906001019060200180831161088757829003601f168201915b5050505050908060020180546108b99061122c565b80601f01602080910402602001604051908101604052809291908181526020018280546108e59061122c565b80156109325780601f1061090757610100808354040283529160200191610932565b820191906000526020600020905b81548152906001019060200180831161091557829003601f168201915b5050505050908060030180546109479061122c565b80601f01602080910402602001604051908101604052809291908181526020018280546109739061122c565b80156109c05780601f10610995576101008083540402835291602001916109c0565b820191906000526020600020905b8154815290600101906020018083116109a357829003601f168201915b50505050600483015460058401546006850154600790950154939460ff80841695610100909404169350909189565b33600090815260208190526040902060040154610100900460ff16610a265760405162461bcd60e51b8152600401610296906111a8565b6001600160a01b03811660009081526020819052604090206004015460ff1615610a885760405162461bcd60e51b81526020600482015260136024820152725573657220616c72656164792061637469766560681b6044820152606401610296565b6001600160a01b038116600081815260208190526040808220600401805460ff19166001179055517fd4719dd6c50c53a868b4c8eb187c166965be87e084f350aab18e6b0f141c77349190a250565b60606001805480602002602001604051908101604052809291908181526020018280548015610b2f57602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610b11575b5050505050905090565b33600090815260208190526040902060040154610100900460ff16610b705760405162461bcd60e51b8152600401610296906111a8565b6001600160a01b038416610bbd5760405162461bcd60e51b8152602060048201526014602482015273496e76616c69642075736572206164647265737360601b6044820152606401610296565b6001600160a01b03841660009081526020819052604090206004015460ff1615610c295760405162461bcd60e51b815260206004820152601760248201527f5573657220616c726561647920726567697374657265640000000000000000006044820152606401610296565b60408051610120810182526001600160a01b03868116808352602080840188815284860188905260608501879052600160808601819052600060a087018190524260c088015260e0870181905261010087018190529384529183905294909120835181546001600160a01b031916931692909217825592519192909190820190610cb390826112b5565b5060408201516002820190610cc890826112b5565b5060608201516003820190610cdd90826112b5565b50608082015160048201805460a085015161ffff1990911692151561ff00191692909217610100921515830217905560c0830151600583015560e08301516006830155909101516007909101556001805480820182556000919091527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60180546001600160a01b0319166001600160a01b0386169081179091556040517f92822564bab8864c3a47b34e8d23fbce5c46234eb5da261f94087b995ac0f33b90610da99086908590611374565b60405180910390a250505050565b80356001600160a01b0381168114610dce57600080fd5b919050565b600080600060608486031215610de857600080fd5b610df184610db7565b95602085013595506040909401359392505050565b600060208284031215610e1857600080fd5b610e2182610db7565b9392505050565b6000815180845260005b81811015610e4e57602081850181015186830182015201610e32565b506000602082860101526020601f19601f83011685010191505092915050565b60208152610e886020820183516001600160a01b03169052565b600060208301516101206040840152610ea5610140840182610e28565b90506040840151601f19848303016060850152610ec28282610e28565b9150506060840151601f19848303016080850152610ee08282610e28565b9150506080840151610ef660a085018215159052565b5060a084015180151560c08501525060c084015160e084015260e08401516101008401526101008401516101208401528091505092915050565b600060208284031215610f4257600080fd5b5035919050565b6001600160a01b038a16815261012060208201819052600090610f6e9083018b610e28565b8281036040840152610f80818b610e28565b90508281036060840152610f94818a610e28565b9715156080840152505093151560a085015260c084019290925260e083015261010090910152949350505050565b602080825282518282018190526000918401906040840190835b818110156110035783516001600160a01b0316835260209384019390920191600101610fdc565b509095945050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f83011261103557600080fd5b813567ffffffffffffffff81111561104f5761104f61100e565b604051601f8201601f19908116603f0116810167ffffffffffffffff8111828210171561107e5761107e61100e565b60405281815283820160200185101561109657600080fd5b816020850160208301376000918101602001919091529392505050565b600080600080608085870312156110c957600080fd5b6110d285610db7565b9350602085013567ffffffffffffffff8111156110ee57600080fd5b6110fa87828801611024565b935050604085013567ffffffffffffffff81111561111757600080fd5b61112387828801611024565b925050606085013567ffffffffffffffff81111561114057600080fd5b61114c87828801611024565b91505092959194509250565b6020808252600f908201526e55736572206e6f742061637469766560881b604082015260600190565b808201808211156111a257634e487b7160e01b600052601160045260246000fd5b92915050565b60208082526022908201527f4f6e6c792061646d696e2063616e20706572666f726d2074686973206163746960408201526137b760f11b606082015260800190565b60208082526022908201527f4f6e6c79206f776e65722063616e20706572666f726d2074686973206163746960408201526137b760f11b606082015260800190565b600181811c9082168061124057607f821691505b60208210810361126057634e487b7160e01b600052602260045260246000fd5b50919050565b601f8211156112b057806000526020600020601f840160051c8101602085101561128d5750805b601f840160051c820191505b818110156112ad5760008155600101611299565b50505b505050565b815167ffffffffffffffff8111156112cf576112cf61100e565b6112e3816112dd845461122c565b84611266565b6020601f82116001811461131757600083156112ff5750848201515b600019600385901b1c1916600184901b1784556112ad565b600084815260208120601f198516915b828110156113475787850151825560209485019460019092019101611327565b50848210156113655786840151600019600387901b60f8161c191681555b50505050600190811b01905550565b6040815260006113876040830185610e28565b82810360208401526113998185610e28565b9594505050505056fea2646970667358221220947f9550a140a5ba46da2faadb0a5adc529750c87f33f4ea32e0726fe6efb03164736f6c634300081e0033"
}